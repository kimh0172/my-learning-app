:root {
--primary: #4f46e5;
--primary-2: #6366f1;
--shadow: 0 12px 30px rgba(2,6,23,.08), 0 1px 0 rgba(2,6,23,.06);
--font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Helvetica Neue";
}
.dark {
--bg1: #020617;
--bg2: #0b1223;
--text: #e2e8f0;
--muted: #94a3b8;
--card: rgba(2,6,23,0.7);
--border: rgba(226,232,240,0.12);
--shadow: 0 10px 28px rgba(0,0,0,.35);
}
* { box-sizing: border-box; }
body { margin: 0; font-family: var(--font-sans);}
.app {
min-height: 100vh;
color: var(--text);
background: radial-gradient(1200px 600px at 100% -10%, var(--bg2), transparent),
radial-gradient(1200px 600px at -10% 100%, var(--bg2), transparent),
var(--bg1);
}
.hidden { display:none; }
.container { width: min(1120px, 100%); margin: 0 auto; padding: 0 16px; }
.h1 { font-size: 16px; margin: 0; font-weight: 600; }
.h3 { font-size: 18px; margin: 0 0 4px; font-weight: 600; }
.semi { font-weight: 600; }
.muted { color: var(--muted); font-size: 12px; }
.mb-6 { margin-bottom: 16px; } .mt-8 { margin-top: 12px; } .mt-10 { margin-top: 24px; }
.center { text-align: center; }
.flex-row { display: inline-flex; align-items: center; gap: 6px; }
.icon { width: 16px; height: 16px; vertical-align: middle; }
.icon--primary { color: var(--primary); }


.header { position: sticky; top: 0; z-index: 10; background: color-mix(in srgb, var(--card) 90%, transparent); backdrop-filter: blur(8px); border-bottom: 1px solid var(--border); }
.header__inner { display: flex; align-items: center; justify-content: space-between; padding: 12px 0; }
.brand { display: flex; align-items: center; gap: 12px; }
.brand__logo { width: 36px; height: 36px; border-radius: 12px; background: linear-gradient(135deg, var(--primary), var(--primary-2)); color: white; display: grid; place-items: center; font-weight: 700; box-shadow: var(--shadow); }
.header__actions { display: flex; align-items: center; gap: 8px; }


.main { padding: 24px 0 40px; }
.grid-3 { display: grid; gap: 16px; grid-template-columns: repeat(1, minmax(0,1fr)); }
@media (min-width: 900px) { .grid-3 { grid-template-columns: repeat(3, minmax(0,1fr)); } }
.grid-weeks { display: grid; gap: 16px; grid-template-columns: repeat(1, minmax(0,1fr)); margin-top: 16px; }
@media (min-width: 900px) { .grid-weeks { grid-template-columns: repeat(2, minmax(0,1fr)); } }


.card { border: 1px solid var(--border); background: var(--card); border-radius: 16px; box-shadow: var(--shadow); padding: 16px; }
.section { margin-top: 12px; }
.section__title { display: flex; align-items: center; gap: 8px; font-size: 13px; font-weight: 600; margin-bottom: 4px; }
.list { margin: 0; padding-left: 18px; font-size: 14px; line-height: 1.6; }
.links a { color: var(--primary); text-decoration: none; }
.links a:hover { text-decoration: underline; }


.week__header { display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; }


.btn { display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 12px; font-size: 13px; border: 1px solid transparent; background: #f1f5f9; color: #848484; cursor: pointer; box-shadow: 0 1px 0 rgba(2,6,23,.06); transition: transform .08s ease, background .2s ease; }
.btn:hover { background: #e2e8f0; color:#0f172a}
.btn:active { transform: scale(0.98); }
.btn-inline { white-space: nowrap; }
.btn--primary { background: linear-gradient(135deg, var(--primary), var(--primary-2)); color: white; }
.btn--primary:hover { filter: brightness(1.05);}
.btn--outline { background: transparent; border-color: color-mix(in srgb, var(--text), transparent 80%); color: var(--text); }
.btn--soft { background: color-mix(in srgb, var(--card), white 10%); }
.btn--danger { background: #fef2f2; color: #b91c1c; border-color: #fecaca; }


.input, .textarea { width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid color-mix(in srgb, var(--text), transparent 85%); background: color-mix(in srgb, var(--card), white 8%); color: var(--text); font-size: 14px; }
.input::placeholder, .textarea::placeholder { color: color-mix(in srgb, var(--muted), transparent 20%); }
.input:focus, .textarea:focus { outline: none; box-shadow: 0 0 0 2px color-mix(in srgb, var(--primary), transparent 55%); border-color: color-mix(in srgb, var(--primary), transparent 30%); }
.textarea { min-height: 96px; }


.chips { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
.chip { padding: 6px 12px; font-size: 13px; border-radius: 9999px; border: 1px solid color-mix(in srgb, var(--text), transparent 85%); background: color-mix(in srgb, var(--card), white 8%); color: var(--text); cursor: pointer; }
.chip:hover { background: color-mix(in srgb, var(--card), white 14%); }
.chip--active { background: linear-gradient(135deg, var(--primary), var(--primary-2)); color: white; border-color: transparent; box-shadow: var(--shadow); }


.filters { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
.search { position: relative; flex: 1; min-width: 240px; }
.search .icon { position: absolute; left: 10px; top: 50%; transform: translateY(-50%); color: var(--muted); }
.search .input { padding-left: 32px; }
.checkbox { font-size: 13px; color: var(--text); display: inline-flex; align-items: center; gap: 8px; }


.progress { display: flex; align-items: flex-end; justify-content: space-between; gap: 16px; }
.stat__value { font-size: 28px; font-weight: 700; }
.bar { height: 10px; border-radius: 9999px; background: color-mix(in srgb, var(--text), transparent 92%); overflow: hidden; flex: 1; }
.bar__fill { height: 100%; background: linear-gradient(90deg, var(--primary), var(--primary-2)); }


.footer { font-size: 12px; color: var(--muted); text-align: center; margin: 24px 0 8px; }

.columns{
  --col-w: 480px;                /* bạn có thể đổi 420/560 tuỳ rộng */
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: var(--col-w);
  gap: 16px;
  overflow-x: auto;
  padding-bottom: 8px;
  scroll-snap-type: x proximity;
  margin-top:30px;
}
.col{
  scroll-snap-align: start;
  min-height: 100%;
}
.columns::-webkit-scrollbar{ height:10px; }
.columns::-webkit-scrollbar-thumb{
  background: color-mix(in srgb, var(--text), transparent 80%);
  border-radius: 9999px;
}
.columns::-webkit-scrollbar-track{
  background: color-mix(in srgb, var(--text), transparent 92%);
  border-radius: 9999px;
}
.nextweek-btn-inline {
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 8px;
  white-space: nowrap;
  margin-top: 10px;
}
.card.weekcard {
  min-height:540px;
}

/* ===== Scrollbar theme (light/dark) ===== */
:root {
  --scrollbar-track: color-mix(in srgb, var(--text), transparent 92%); /* xám nhạt, không trùng nền */
  --scrollbar-thumb: color-mix(in srgb, var(--primary), transparent 35%); /* tím nhạt */
  --scrollbar-thumb-hover: color-mix(in srgb, var(--primary), transparent 15%);
}
.dark {
  --scrollbar-track: color-mix(in srgb, var(--text), transparent 85%);  /* đậm hơn chút cho dark */
  --scrollbar-thumb: color-mix(in srgb, var(--primary), transparent 25%);
  --scrollbar-thumb-hover: color-mix(in srgb, var(--primary), transparent 10%);
}

/* ===== Columns layout (mỗi tuần 1 cột) ===== */
.columns{
  --col-w: 480px;                 /* chỉnh 420/560… tuỳ bạn */
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: var(--col-w);
  gap: 16px;
  padding: 0 16px 10px;           /* chừa đáy cho scrollbar */
  overflow-x: auto;
  scroll-snap-type: x proximity;  /* hoặc 'mandatory' nếu muốn snap cứng hơn */
  scroll-padding-left: 16px;      /* cột đầu bám sát padding trái */
  scrollbar-gutter: stable both-edges; /* tránh layout nhảy khi hiện scrollbar */
  -webkit-overflow-scrolling: touch;   /* mượt trên iOS */
}

/* Firefox */
.columns{
  scrollbar-width: thin;
  scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
}

/* WebKit (Chrome/Edge/Safari) */
.columns::-webkit-scrollbar{ height: 10px; }
.columns::-webkit-scrollbar-track{
  background: var(--scrollbar-track);
  border-radius: 9999px;
}
.columns::-webkit-scrollbar-thumb{
  background: var(--scrollbar-thumb);
  border-radius: 9999px;
  border: 2px solid transparent;        /* tạo “padding” cho thumb, nhìn đậm hơn */
  background-clip: padding-box;
}
.columns:hover::-webkit-scrollbar-thumb{
  background: var(--scrollbar-thumb-hover);
}

